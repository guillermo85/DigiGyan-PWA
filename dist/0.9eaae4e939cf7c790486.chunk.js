webpackJsonp([0],{Pxno:function(n,l,e){"use strict";function t(n){return p._42(0,[(n()(),p._21(0,null,null,7,"md-checkbox",[["class","mat-checkbox"],["color","primary"]],[[8,"id",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,l,e){var t=!0;if("ngModelChange"===l){t=!1!==(n.context.$implicit.selected=e)&&t}return t},h.i,h.c)),p._19(16384,null,0,f._44,[[2,f.i],p.q],null,null),p._19(4374528,null,0,f.U,[p.Q,p.q,p.j,f.f],{color:[0,"color"]},null),p._38(1024,null,m.h,function(n){return[n]},[f.U]),p._19(671744,null,0,m.l,[[8,null],[8,null],[8,null],[2,m.h]],{model:[0,"model"]},{update:"ngModelChange"}),p._38(2048,null,m.i,null,[m.l]),p._19(16384,null,0,m.j,[m.i],null,null),(n()(),p._41(0,["",""]))],function(n,l){n(l,2,0,"primary"),n(l,4,0,l.context.$implicit.selected)},function(n,l){n(l,0,1,[p._35(l,2).id,p._35(l,2).indeterminate,p._35(l,2).checked,p._35(l,2).disabled,"before"==p._35(l,2).labelPosition,p._35(l,6).ngClassUntouched,p._35(l,6).ngClassTouched,p._35(l,6).ngClassPristine,p._35(l,6).ngClassDirty,p._35(l,6).ngClassValid,p._35(l,6).ngClassInvalid,p._35(l,6).ngClassPending]),n(l,7,0,l.context.$implicit.name)})}function u(n){return p._42(0,[(n()(),p._21(0,null,null,80,"div",[["class","register-container"]],null,null,null,null,null)),(n()(),p._41(null,["\n    "])),(n()(),p._21(0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),p._41(null,["DigiGyan"])),(n()(),p._41(null,["\n  "])),(n()(),p._21(0,null,null,74,"div",[["class","register-content"]],null,null,null,null,null)),(n()(),p._41(null,["\n    "])),(n()(),p._21(0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),p._41(null,["Register"])),(n()(),p._41(null,["\n    "])),(n()(),p._21(0,null,null,68,"div",[["class","register-card"]],null,null,null,null,null)),(n()(),p._41(null,["\n      "])),(n()(),p._21(0,null,null,21,"md-input-container",[["class","register-input mat-input-container mat-form-field"]],[[2,"mat-input-invalid",null],[2,"mat-form-field-invalid",null],[2,"mat-focused",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==p._35(n,14)._control.focus()&&t}return t},h.j,h.d)),p._19(16384,null,0,f._44,[[2,f.i],p.q],null,null),p._19(7389184,null,6,f._13,[p.q,p.j,[2,f.u]],null,null),p._39(335544320,1,{_control:0}),p._39(335544320,2,{_placeholderChild:0}),p._39(603979776,3,{_errorChildren:1}),p._39(603979776,4,{_hintChildren:1}),p._39(603979776,5,{_prefixChildren:1}),p._39(603979776,6,{_suffixChildren:1}),(n()(),p._41(1,["\n        "])),(n()(),p._21(0,null,1,10,"input",[["class","mat-input-element"],["mdInput",""],["placeholder","Username"],["required",""],["type","text"]],[[1,"required",0],[8,"id",0],[8,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(n,l,e){var t=!0,u=n.component;if("input"===l){t=!1!==p._35(n,26)._handleInput(e.target.value)&&t}if("blur"===l){t=!1!==p._35(n,26).onTouched()&&t}if("compositionstart"===l){t=!1!==p._35(n,26)._compositionStart()&&t}if("compositionend"===l){t=!1!==p._35(n,26)._compositionEnd(e.target.value)&&t}if("blur"===l){t=!1!==p._35(n,30)._focusChanged(!1)&&t}if("focus"===l){t=!1!==p._35(n,30)._focusChanged(!0)&&t}if("input"===l){t=!1!==p._35(n,30)._onInput()&&t}if("ngModelChange"===l){t=!1!==(u.user.username=e)&&t}return t},null,null)),p._19(16384,null,0,f._44,[[2,f.i],p.q],null,null),p._19(16384,null,0,m.n,[],{required:[0,"required"]},null),p._38(1024,null,m.g,function(n){return[n]},[m.n]),p._19(16384,null,0,m.c,[p.Q,p.q,[2,m.a]],null,null),p._38(1024,null,m.h,function(n){return[n]},[m.c]),p._19(671744,null,0,m.l,[[8,null],[2,m.g],[8,null],[2,m.h]],{model:[0,"model"]},{update:"ngModelChange"}),p._38(2048,null,m.i,null,[m.l]),p._19(933888,null,0,f._25,[p.q,p.Q,b.a,[2,m.i],[2,m.k],[2,m.e],[2,f.r]],{placeholder:[0,"placeholder"],required:[1,"required"],type:[2,"type"]},null),p._19(16384,null,0,m.j,[m.i],null,null),p._38(2048,[[1,4]],f._14,null,[f._25]),(n()(),p._41(1,["\n      "])),(n()(),p._41(null,["\n      "])),(n()(),p._21(0,null,null,21,"md-input-container",[["class","register-input mat-input-container mat-form-field"]],[[2,"mat-input-invalid",null],[2,"mat-form-field-invalid",null],[2,"mat-focused",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==p._35(n,37)._control.focus()&&t}return t},h.j,h.d)),p._19(16384,null,0,f._44,[[2,f.i],p.q],null,null),p._19(7389184,null,6,f._13,[p.q,p.j,[2,f.u]],null,null),p._39(335544320,7,{_control:0}),p._39(335544320,8,{_placeholderChild:0}),p._39(603979776,9,{_errorChildren:1}),p._39(603979776,10,{_hintChildren:1}),p._39(603979776,11,{_prefixChildren:1}),p._39(603979776,12,{_suffixChildren:1}),(n()(),p._41(1,["\n        "])),(n()(),p._21(0,null,1,10,"input",[["class","mat-input-element"],["mdInput",""],["placeholder","password"],["required",""],["type","password"]],[[1,"required",0],[8,"id",0],[8,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(n,l,e){var t=!0,u=n.component;if("input"===l){t=!1!==p._35(n,49)._handleInput(e.target.value)&&t}if("blur"===l){t=!1!==p._35(n,49).onTouched()&&t}if("compositionstart"===l){t=!1!==p._35(n,49)._compositionStart()&&t}if("compositionend"===l){t=!1!==p._35(n,49)._compositionEnd(e.target.value)&&t}if("blur"===l){t=!1!==p._35(n,53)._focusChanged(!1)&&t}if("focus"===l){t=!1!==p._35(n,53)._focusChanged(!0)&&t}if("input"===l){t=!1!==p._35(n,53)._onInput()&&t}if("ngModelChange"===l){t=!1!==(u.user.password=e)&&t}return t},null,null)),p._19(16384,null,0,f._44,[[2,f.i],p.q],null,null),p._19(16384,null,0,m.n,[],{required:[0,"required"]},null),p._38(1024,null,m.g,function(n){return[n]},[m.n]),p._19(16384,null,0,m.c,[p.Q,p.q,[2,m.a]],null,null),p._38(1024,null,m.h,function(n){return[n]},[m.c]),p._19(671744,null,0,m.l,[[8,null],[2,m.g],[8,null],[2,m.h]],{model:[0,"model"]},{update:"ngModelChange"}),p._38(2048,null,m.i,null,[m.l]),p._19(933888,null,0,f._25,[p.q,p.Q,b.a,[2,m.i],[2,m.k],[2,m.e],[2,f.r]],{placeholder:[0,"placeholder"],required:[1,"required"],type:[2,"type"]},null),p._19(16384,null,0,m.j,[m.i],null,null),p._38(2048,[[7,4]],f._14,null,[f._25]),(n()(),p._41(1,["\n      "])),(n()(),p._41(null,["\n      "])),(n()(),p._21(0,null,null,10,"div",[["class","Tags"]],null,null,null,null,null)),(n()(),p._41(null,["\n        "])),(n()(),p._21(0,null,null,1,"h4",[],null,null,null,null,null)),(n()(),p._41(null,["Tags"])),(n()(),p._41(null,["\n        "])),(n()(),p._21(0,null,null,4,"section",[],null,null,null,null,null)),(n()(),p._41(null,["\n          "])),(n()(),p._15(16777216,null,null,1,null,t)),p._19(802816,null,0,v.i,[p._3,p.Z,p.B],{ngForOf:[0,"ngForOf"]},null),(n()(),p._41(null,["\n        "])),(n()(),p._41(null,["\n      "])),(n()(),p._41(null,["\n      "])),(n()(),p._21(0,null,null,7,"div",[["class","create-register"]],null,null,null,null,null)),(n()(),p._41(null,["\n        "])),(n()(),p._21(0,null,null,4,"button",[["class","mat-raised-button"],["color","primary"],["md-raised-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,l,e){var t=!0,u=n.component;if("click"===l){t=!1!==u.register()&&t}return t},h.h,h.b)),p._19(16384,null,0,f._44,[[2,f.i],p.q],null,null),p._19(180224,null,0,f.H,[p.Q,p.q,b.a,f.f],{color:[0,"color"]},null),p._19(16384,null,0,f._54,[],null,null),(n()(),p._41(0,["Submit"])),(n()(),p._41(null,["\n      "])),(n()(),p._41(null,["\n    "])),(n()(),p._41(null,["\n  "])),(n()(),p._41(null,["\n"])),(n()(),p._41(null,["\n"]))],function(n,l){var e=l.component;n(l,24,0,""),n(l,28,0,e.user.username);n(l,30,0,"Username","","text");n(l,47,0,""),n(l,51,0,e.user.password);n(l,53,0,"password","","password"),n(l,66,0,e.tags);n(l,74,0,"primary")},function(n,l){n(l,12,0,p._35(l,14)._control.errorState,p._35(l,14)._control.errorState,p._35(l,14)._control.focused,p._35(l,14)._shouldForward("untouched"),p._35(l,14)._shouldForward("touched"),p._35(l,14)._shouldForward("pristine"),p._35(l,14)._shouldForward("dirty"),p._35(l,14)._shouldForward("valid"),p._35(l,14)._shouldForward("invalid"),p._35(l,14)._shouldForward("pending")),n(l,22,1,[p._35(l,24).required?"":null,p._35(l,30).id,p._35(l,30).placeholder,p._35(l,30).disabled,p._35(l,30).required,p._35(l,30)._ariaDescribedby||null,p._35(l,30).errorState,p._35(l,31).ngClassUntouched,p._35(l,31).ngClassTouched,p._35(l,31).ngClassPristine,p._35(l,31).ngClassDirty,p._35(l,31).ngClassValid,p._35(l,31).ngClassInvalid,p._35(l,31).ngClassPending]),n(l,35,0,p._35(l,37)._control.errorState,p._35(l,37)._control.errorState,p._35(l,37)._control.focused,p._35(l,37)._shouldForward("untouched"),p._35(l,37)._shouldForward("touched"),p._35(l,37)._shouldForward("pristine"),p._35(l,37)._shouldForward("dirty"),p._35(l,37)._shouldForward("valid"),p._35(l,37)._shouldForward("invalid"),p._35(l,37)._shouldForward("pending")),n(l,45,1,[p._35(l,47).required?"":null,p._35(l,53).id,p._35(l,53).placeholder,p._35(l,53).disabled,p._35(l,53).required,p._35(l,53)._ariaDescribedby||null,p._35(l,53).errorState,p._35(l,54).ngClassUntouched,p._35(l,54).ngClassTouched,p._35(l,54).ngClassPristine,p._35(l,54).ngClassDirty,p._35(l,54).ngClassValid,p._35(l,54).ngClassInvalid,p._35(l,54).ngClassPending]),n(l,72,0,p._35(l,74).disabled||null)})}function r(n){return p._42(0,[(n()(),p._21(0,null,null,2,"register",[],null,null,null,u,k)),p._38(512,null,a,a,[C.d]),p._19(114688,null,0,s,[x.k,a,f._68],null,null)],function(n,l){n(l,2,0)},null)}Object.defineProperty(l,"__esModule",{value:!0});var i=e("CPp0"),o=e("Dqrr"),a=(e.n(o),function(){function n(n){this.http=n}return n.prototype.getAllTags=function(){return this.http.get("/profileapi/alltags").map(function(n){return n.json()}).map(function(n){return n.map(function(n){return n.selected=!1,n})}).catch(function(n){return o.Observable.throw(n.json().error||"Server error")})},n.prototype.register=function(n){return this.http.post("/profileapi/register",n).map(function(n){return n.json()}).catch(function(n){return o.Observable.throw(n.json().error||"Server error")})},n.ctorParameters=function(){return[{type:i.d}]},n}()),c=e("BkNc"),_=e("Z04r"),s=function(){function n(n,l,e){this.router=n,this._registerService=l,this.snackbar=e,this.user={},this.tags=[],this.pouchInstance=new PouchDB("DigiGyan"),sessionStorage.getItem("username_id")&&this.router.navigate(["./questions"])}return n.prototype.ngOnInit=function(){this.getAllTags()},n.prototype.getAllTags=function(){var n=this;this._registerService.getAllTags().subscribe(function(l){l&&l.length>0&&(n.tags=l,n.addToLocalDB("tags",n.tags))},function(l){n.pouchInstance.get("tags").then(function(l){n.tags=l.val}).catch(function(n){console.log(n)})})},n.prototype.addToLocalDB=function(n,l){if(console.log(n),l&&l.length>0){var e=this;e.pouchInstance.get(n).then(function(t){return e.pouchInstance.put({_id:n,_rev:t._rev,val:l})}).then(function(n){}).catch(function(l){404==l.status&&e.pouchInstance.put({_id:n,val:e.tags}).then(function(n){}).catch(function(n){console.log(n)})})}},n.prototype.register=function(){var n=this,l="";if(!window.navigator.onLine)return l="Device is offline. Register when you are Online",n.snackbar.open(l,"Okay",{duration:2e3}),!1;if(n.user){n.user.tags=[];for(var e=!1,t=0;t<n.tags.length;t++)n.tags[t].selected&&(e=!0,console.log(n.tags[t]),n.user.tags.push(n.tags[t]._id));if(e)if(n.user.username&&n.user.password){var u=n._registerService.register(this.user);u.subscribe(function(l){l&&200==l.code&&(l.valMsg?n.snackbar.open(l.valMsg,"Okay",{duration:2e3}):(n.snackbar.open(l.msg,"Okay",{duration:2e3}),sessionStorage.setItem("username_id",l.id),n.router.navigate(["questions"])))})}else l="please fill the fields",n.snackbar.open(l,"Okay",{duration:2e3});else l="select atleast one tag",n.snackbar.open(l,"Okay",{duration:2e3})}},n.ctorParameters=function(){return[{type:c.k},{type:a},{type:_._68}]},n}(),d=function(){function n(){}return n}(),g=[".register-container[_ngcontent-%COMP%]{width:100vw;height:100vh;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin:auto;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:0}.register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]{padding:16px;margin:16px}.register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   .register-input[_ngcontent-%COMP%]{display:block;min-width:240px}@media screen and (min-width:720px){.register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   .register-input[_ngcontent-%COMP%]{min-width:480px}}.register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   .create-register[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:30px 0 10px}.register-container[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   .create-register[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:30px 20px;text-decoration:underline;cursor:pointer}section[_ngcontent-%COMP%]{margin:20px 20px 20px 0}section[_ngcontent-%COMP%]   md-checkbox[_ngcontent-%COMP%]{margin:10px 20px 10px 0}"],p=e("/oeL"),h=e("v6Q/"),f=e("Z04r"),m=e("bm2B"),b=e("JYHx"),v=e("qbdv"),C=e("CPp0"),x=e("BkNc"),y=[g],k=p._18({encapsulation:0,styles:y,data:{}}),w=p._16("register",s,r,{},{},[]);e.d(l,"RegisterModuleNgFactory",function(){return H});var P=e("/oeL"),q=e("v6Q/"),M=e("qbdv"),O=e("UPmf"),j=e("fc+i"),F=e("JYHx"),I=e("vVgA"),S=e("Z04r"),D=e("f3MN"),T=e("z1Gz"),B=e("dGUy"),U=e("bm2B"),J=e("CPp0"),Q=e("BkNc"),V=e("mSH7"),A=e("EoPO"),H=P._17(d,[],function(n){return P._32([P._33(512,P.m,P._13,[[8,[q.a,q.g,w]],[3,P.m],P.H]),P._33(4608,M.l,M.k,[P.D]),P._33(6144,O.b,null,[j.b]),P._33(4608,O.c,O.c,[[2,O.b]]),P._33(4608,F.a,F.a,[]),P._33(5120,I.c,I.a,[[3,I.c],P.J,F.a]),P._33(5120,I.g,I.f,[[3,I.g],I.c]),P._33(4608,S.f,S.f,[P.J,F.a]),P._33(4608,D.a,D.a,[]),P._33(4608,T.g,T.g,[I.c,I.g]),P._33(5120,T.c,T.j,[[3,T.c]]),P._33(4608,T.m,T.m,[I.g]),P._33(4608,T.b,T.b,[T.g,T.c,P.m,T.m,P.g,P.z,P.J]),P._33(5120,T.k,T.l,[T.b]),P._33(5120,B.j,B.i,[[3,B.j],[2,B.g],F.a]),P._33(4608,S._68,S._68,[T.b,B.j,P.z,[3,S._68]]),P._33(4608,U.q,U.q,[]),P._33(4608,a,a,[J.d]),P._33(512,Q.m,Q.m,[[2,Q.r],[2,Q.k]]),P._33(512,M.b,M.b,[]),P._33(512,S.c,S.c,[]),P._33(512,O.a,O.a,[]),P._33(256,S.j,!0,[]),P._33(512,S.Y,S.Y,[[2,j.b],[2,S.j]]),P._33(512,F.b,F.b,[]),P._33(512,I.b,I.b,[]),P._33(512,S._56,S._56,[]),P._33(512,S._96,S._96,[]),P._33(512,S.J,S.J,[]),P._33(512,D.c,D.c,[]),P._33(512,S.V,S.V,[]),P._33(512,S._87,S._87,[]),P._33(512,V.e,V.e,[]),P._33(512,S._85,S._85,[]),P._33(512,S._15,S._15,[]),P._33(512,S._26,S._26,[]),P._33(512,T.d,T.d,[]),P._33(512,S._70,S._70,[]),P._33(512,A.a,A.a,[]),P._33(512,U.p,U.p,[]),P._33(512,U.f,U.f,[]),P._33(512,d,d,[]),P._33(1024,Q.i,function(){return[[{path:"",component:s}]]},[])])})}});